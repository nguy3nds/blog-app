(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{104:function(t,e,a){},133:function(t,e,a){"use strict";a.r(e);var c=a(0),n=a.n(c),r=a(12),o=a.n(r),s=(a(104),a(20)),i=a(177),u=a(178),l=a(59),j=a(164),b=Object(j.a)((function(t){return{container:{backgroundColor:t.palette.primary.main,color:"white",marginBottom:20,fontWeight:"lighter",padding:"5px 0"}}})),d=a(7);function p(){var t=b();return Object(d.jsx)(l.a,{variant:"h4",align:"center",className:t.container,children:"Blog"})}var O=a(90),x=a.n(O),h=a(174),f=a(43),m=a(14),g=a(168),v=a(169),P=a(182),k=a(170),w=a(171),S=a(172),C=a(173),y=a(87),R=a.n(y),q=a(88),M=a.n(q),N=a(86),_=a.n(N),D=Object(j.a)((function(){return{media:{height:"150px"}}})),E=a(180),F=a(69),T=function(t){return t().type},A=Object(E.a)({getPostsRequest:void 0,getPostsSuccess:function(t){return t},getPostsFailure:function(t){return t}}),L=Object(E.a)({createPostRequest:function(t){return t},createPostSuccess:function(t){return t},createPostFailure:function(t){return t}}),B=Object(E.a)({updatePostRequest:function(t){return t},updatePostSuccess:function(t){return t},updatePostFailure:function(t){return t}}),H=Object(F.a)("SHOW_CREATE_POST_MODAL"),W=Object(F.a)("HIDE_CREATE_POST_MODAL"),Y=a(91),I={posts:{isLoading:!1,data:[]},modal:{isShow:!1}};function J(t){var e,a=t.post,n=D(),r=Object(s.b)(),o=Object(c.useCallback)((function(){r(B.updatePostRequest(Object(m.a)(Object(m.a)({},a),{},{likeCount:a.likeCount+1})))}),[a,r]);return Object(d.jsxs)(g.a,{children:[Object(d.jsx)(v.a,{avatar:Object(d.jsx)(P.a,{children:"A"}),title:a.author,subheader:_()(a.updatedAt).format("HH:MM MMM DD, YYYY"),action:Object(d.jsx)(k.a,{children:Object(d.jsx)(R.a,{})})}),Object(d.jsx)(w.a,{image:a.attachment,title:"Title",className:n.media}),Object(d.jsxs)(S.a,{children:[Object(d.jsx)(l.a,{variant:"h5",color:"textPrimary",children:a.title}),Object(d.jsx)(l.a,(e={variant:"body2",component:"p",color:"textSecondary"},Object(f.a)(e,"color","textPrimary"),Object(f.a)(e,"children",a.content),e))]}),Object(d.jsx)(C.a,{children:Object(d.jsxs)(k.a,{onClick:o,children:[Object(d.jsx)(M.a,{}),Object(d.jsx)(l.a,{component:"span",color:"textSecondary",children:a.likeCount})]})})]})}var V=function(t){return t.posts.data},z=function(t){return t.modal};function G(){var t=Object(s.b)(),e=Object(s.c)(V);return console.log("[postlist - post]",e),Object(c.useEffect)((function(){t(A.getPostsRequest())}),[t]),Object(d.jsx)(h.a,{container:!0,spacing:2,alignItems:"stretch",children:e.map((function(t){return Object(d.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(d.jsx)(J,{post:t},t._id)})}))})}var K=Object(j.a)((function(t){return{fab:{position:"fixed",bottom:t.spacing(2),right:t.spacing(2)}}})),Q=a(92),U=a(179),X=a(175),Z=a(176),$=a(181),tt=Object(j.a)((function(t){return{paper:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",width:400,backgroundColor:t.palette.background.paper,boxShadow:t.shadows[5],padding:t.spacing(2,4,3)},form:{display:"flex",flexDirection:"column"},header:{margin:"0 0 10px 0"},title:{marginBottom:"10px"},textarea:{padding:"10px",marginBottom:"10px"},footer:{marginTop:"10px"}}})),et=a(89),at=a.n(et);function ct(){var t=Object(c.useState)({title:"",content:"",attachment:""}),e=Object(Q.a)(t,2),a=e[0],n=e[1],r=Object(s.c)(z).isShow,o=Object(s.b)(),i=tt(),u=Object(c.useCallback)((function(){o(W()),n({title:"",content:"",attachment:""})}),[o]),l=Object(c.useCallback)((function(){console.log(a),o(L.createPostRequest(a)),o(W())}),[a,o]),j=Object(d.jsxs)("div",{className:i.paper,id:"simple-modal-title",children:[Object(d.jsx)("h2",{children:"Create New Post"}),Object(d.jsxs)("form",{noValidate:!0,autoComplete:"off",className:i.form,children:[Object(d.jsx)(U.a,{className:i.title,required:!0,label:"Title",value:a.title,onChange:function(t){return n(Object(m.a)(Object(m.a)({},a),{},{title:t.target.value}))}}),Object(d.jsx)(X.a,{className:i.textarea,rowsMin:10,rowsMax:15,placeholder:"Content...",value:a.content,onChange:function(t){return n(Object(m.a)(Object(m.a)({},a),{},{content:t.target.value}))}}),Object(d.jsx)(at.a,{accept:"/image/*",multiple:!1,type:"file",value:a.attachment,onDone:function(t){var e=t.base64;return n(Object(m.a)(Object(m.a)({},a),{},{attachment:e}))}}),Object(d.jsx)("div",{className:i.footer,children:Object(d.jsx)(Z.a,{variant:"contained",color:"primary",component:"span",fullWidth:!0,onClick:l,children:"Create"})})]})]});return Object(d.jsx)("div",{children:Object(d.jsx)($.a,{open:r,onClose:u,children:j})})}function nt(){var t=K(),e=Object(s.b)(),a=Object(c.useCallback)((function(){e(H())}),[e]);return Object(d.jsxs)(i.a,{maxWidth:"lg",children:[Object(d.jsx)(p,{}),Object(d.jsx)(G,{}),Object(d.jsx)(ct,{}),Object(d.jsx)(u.a,{color:"primary",className:t.fab,onClick:a,children:Object(d.jsx)(x.a,{})})]})}var rt=function(){return Object(d.jsx)("div",{children:Object(d.jsx)(nt,{})})},ot=a(93),st=a(30);var it=Object(st.b)({posts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.posts,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T(A.getPostsRequest):return Object(m.a)(Object(m.a)({},t),{},{isLoading:!0});case T(A.getPostsSuccess):return Object(m.a)(Object(m.a)({},t),{},{isLoading:!1,data:e.payload});case T(A.getPostsFailure):return Object(m.a)(Object(m.a)({},t),{},{isLoading:!1});case T(L.createPostSuccess):return Object(m.a)(Object(m.a)({},t),{},{data:[].concat(Object(Y.a)(t.data),[e.payload])});case T(B.updatePostSuccess):return Object(m.a)(Object(m.a)({},t),{},{data:t.data.map((function(t){return t._id===e.payload._id?e.payload:t}))});default:return t}},modal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.modal,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T(H):return{isShow:!0};case T(W):return{isShow:!1};default:return t}}}),ut=a(25),lt=a.n(ut),jt=a(21),bt=a(58),dt=a.n(bt),pt="https://blog-app-holetex.herokuapp.com",Ot=function(){return dt.a.get("".concat(pt,"/posts"))},xt=function(t){return dt.a.post("".concat(pt,"/posts"),t)},ht=function(t){return dt.a.post("".concat(pt,"/posts/update"),t)},ft=lt.a.mark(Pt),mt=lt.a.mark(kt),gt=lt.a.mark(wt),vt=lt.a.mark(St);function Pt(t){var e;return lt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(jt.a)(Ot);case 3:return e=t.sent,console.log("[post]",e),t.next=7,Object(jt.b)(A.getPostsSuccess(e.data));case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0),t.next=14,Object(jt.b)(A.getPostsFailure(t.t0));case 14:case"end":return t.stop()}}),ft,null,[[0,9]])}function kt(t){var e;return lt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(jt.a)(xt,t.payload);case 3:return e=a.sent,console.log("[createPostSaga-post]",e),a.next=7,Object(jt.b)(L.createPostSuccess(e.data));case 7:a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(0),console.log(a.t0),a.next=14,Object(jt.b)(L.createPostFailure(a.t0));case 14:case"end":return a.stop()}}),mt,null,[[0,9]])}function wt(t){var e;return lt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(jt.a)(ht,t.payload);case 3:return e=a.sent,console.log("[updatePostSaga-post]",e),a.next=7,Object(jt.b)(B.updatePostSuccess(e.data));case 7:a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(0),console.log(a.t0),a.next=14,Object(jt.b)(B.updatePostFailure(a.t0));case 14:case"end":return a.stop()}}),gt,null,[[0,9]])}function St(){return lt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(jt.c)(A.getPostsRequest,Pt);case 2:return t.next=4,Object(jt.c)(L.createPostRequest,kt);case 4:return t.next=6,Object(jt.c)(B.updatePostRequest,wt);case 6:case"end":return t.stop()}}),vt)}var Ct=St,yt=Object(ot.a)(),Rt=Object(st.d)(it,Object(st.a)(yt));yt.run(Ct),o.a.render(Object(d.jsx)(s.a,{store:Rt,children:Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(rt,{})})}),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.b78904b0.chunk.js.map