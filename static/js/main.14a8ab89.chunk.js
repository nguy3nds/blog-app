(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(t,e,a){},134:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),r=a(12),o=a.n(r),s=(a(105),a(20)),i=a(179),u=a(180),l=a(59),j=a(166),b=Object(j.a)((function(t){return{container:{backgroundColor:t.palette.primary.main,color:"white",marginBottom:20,fontWeight:"lighter",padding:"5px 0"}}})),d=a(7);function p(){var t=b();return Object(d.jsx)(l.a,{variant:"h4",align:"center",className:t.container,children:"Blog"})}var O=a(91),x=a.n(O),h=a(176),f=a(44),g=a(14),m=a(170),v=a(171),P=a(184),w=a(172),k=a(173),S=a(174),y=a(175),C=a(87),R=a.n(C),q=a(88),M=a.n(q),N=a(86),_=a.n(N),D=Object(j.a)((function(){return{media:{height:"150px"}}})),E=a(182),F=a(69),T=function(t){return t().type},A=Object(E.a)({getPostsRequest:void 0,getPostsSuccess:function(t){return t},getPostsFailure:function(t){return t}}),B=Object(E.a)({createPostRequest:function(t){return t},createPostSuccess:function(t){return t},createPostFailure:function(t){return t}}),L=Object(E.a)({updatePostRequest:function(t){return t},updatePostSuccess:function(t){return t},updatePostFailure:function(t){return t}}),H=Object(F.a)("SHOW_CREATE_POST_MODAL"),W=Object(F.a)("HIDE_CREATE_POST_MODAL"),Y=a(92),I={posts:{isLoading:!1,data:[]},modal:{isShow:!1}};function J(t){var e,a=t.post,c=D(),r=Object(s.b)(),o=Object(n.useCallback)((function(){r(L.updatePostRequest(Object(g.a)(Object(g.a)({},a),{},{likeCount:a.likeCount+1})))}),[a,r]);return Object(d.jsxs)(m.a,{children:[Object(d.jsx)(v.a,{avatar:Object(d.jsx)(P.a,{children:"A"}),title:a.author,subheader:_()(a.updatedAt).format("HH:MM MMM DD, YYYY"),action:Object(d.jsx)(w.a,{children:Object(d.jsx)(R.a,{})})}),Object(d.jsx)(k.a,{image:a.attachment,title:"Title",className:c.media}),Object(d.jsxs)(S.a,{children:[Object(d.jsx)(l.a,{variant:"h5",color:"textPrimary",children:a.title}),Object(d.jsx)(l.a,(e={variant:"body2",component:"p",color:"textSecondary"},Object(f.a)(e,"color","textPrimary"),Object(f.a)(e,"children",a.content),e))]}),Object(d.jsx)(y.a,{children:Object(d.jsxs)(w.a,{onClick:o,children:[Object(d.jsx)(M.a,{}),Object(d.jsx)(l.a,{component:"span",color:"textSecondary",children:a.likeCount})]})})]})}var V=function(t){return t.posts.data},z=function(t){return t.modal},G=a(89),K=a.n(G),Q=Object(j.a)((function(){return{loadding:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:" 100px",height:" 100px"}}}));function U(){var t=Q(),e=Object(s.b)(),a=Object(s.c)(V);return console.log("[postlist - posts]",a),Object(n.useEffect)((function(){e(A.getPostsRequest())}),[e]),Object(d.jsx)(h.a,{container:!0,spacing:2,alignItems:"stretch",children:0!==a.length?a.map((function(t){return Object(d.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(d.jsx)(J,{post:t},t._id)})})):Object(d.jsx)(K.a,{type:"spin",color:"#4050B5",height:"50px",width:"50px",className:t.loadding})})}var X=Object(j.a)((function(t){return{fab:{position:"fixed",bottom:t.spacing(2),right:t.spacing(2)}}})),Z=a(93),$=a(181),tt=a(177),et=a(178),at=a(183),nt=Object(j.a)((function(t){return{paper:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",width:400,backgroundColor:t.palette.background.paper,boxShadow:t.shadows[5],padding:t.spacing(2,4,3)},form:{display:"flex",flexDirection:"column"},header:{margin:"0 0 10px 0"},title:{marginBottom:"10px"},textarea:{padding:"10px",marginBottom:"10px"},footer:{marginTop:"10px"}}})),ct=a(90),rt=a.n(ct);function ot(){var t=Object(n.useState)({title:"",content:"",attachment:""}),e=Object(Z.a)(t,2),a=e[0],c=e[1],r=Object(s.c)(z).isShow,o=Object(s.b)(),i=nt(),u=Object(n.useCallback)((function(){o(W()),c({title:"",content:"",attachment:""})}),[o]),l=Object(n.useCallback)((function(){console.log(a),o(B.createPostRequest(a)),o(W())}),[a,o]),j=Object(d.jsxs)("div",{className:i.paper,id:"simple-modal-title",children:[Object(d.jsx)("h2",{children:"Create New Post"}),Object(d.jsxs)("form",{noValidate:!0,autoComplete:"off",className:i.form,children:[Object(d.jsx)($.a,{className:i.title,required:!0,label:"Title",value:a.title,onChange:function(t){return c(Object(g.a)(Object(g.a)({},a),{},{title:t.target.value}))}}),Object(d.jsx)(tt.a,{className:i.textarea,rowsMin:10,rowsMax:15,placeholder:"Content...",value:a.content,onChange:function(t){return c(Object(g.a)(Object(g.a)({},a),{},{content:t.target.value}))}}),Object(d.jsx)(rt.a,{accept:"/image/*",multiple:!1,type:"file",value:a.attachment,onDone:function(t){var e=t.base64;return c(Object(g.a)(Object(g.a)({},a),{},{attachment:e}))}}),Object(d.jsx)("div",{className:i.footer,children:Object(d.jsx)(et.a,{variant:"contained",color:"primary",component:"span",fullWidth:!0,onClick:l,children:"Create"})})]})]});return Object(d.jsx)("div",{children:Object(d.jsx)(at.a,{open:r,onClose:u,children:j})})}function st(){var t=X(),e=Object(s.b)(),a=Object(n.useCallback)((function(){e(H())}),[e]);return Object(d.jsxs)(i.a,{maxWidth:"lg",children:[Object(d.jsx)(p,{}),Object(d.jsx)(U,{}),Object(d.jsx)(ot,{}),Object(d.jsx)(u.a,{color:"primary",className:t.fab,onClick:a,children:Object(d.jsx)(x.a,{})})]})}var it=function(){return Object(d.jsx)("div",{children:Object(d.jsx)(st,{})})},ut=a(94),lt=a(30);var jt=Object(lt.b)({posts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.posts,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T(A.getPostsRequest):return Object(g.a)(Object(g.a)({},t),{},{isLoading:!0});case T(A.getPostsSuccess):return Object(g.a)(Object(g.a)({},t),{},{isLoading:!1,data:e.payload});case T(A.getPostsFailure):return Object(g.a)(Object(g.a)({},t),{},{isLoading:!1});case T(B.createPostSuccess):return Object(g.a)(Object(g.a)({},t),{},{data:[].concat(Object(Y.a)(t.data),[e.payload])});case T(L.updatePostSuccess):return Object(g.a)(Object(g.a)({},t),{},{data:t.data.map((function(t){return t._id===e.payload._id?e.payload:t}))});default:return t}},modal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.modal,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T(H):return{isShow:!0};case T(W):return{isShow:!1};default:return t}}}),bt=a(25),dt=a.n(bt),pt=a(21),Ot=a(58),xt=a.n(Ot),ht="https://blog-app-nguy3nds.herokuapp.com",ft=function(){return xt.a.get("".concat(ht,"/posts"))},gt=function(t){return xt.a.post("".concat(ht,"/posts"),t)},mt=function(t){return xt.a.post("".concat(ht,"/posts/update"),t)},vt=dt.a.mark(St),Pt=dt.a.mark(yt),wt=dt.a.mark(Ct),kt=dt.a.mark(Rt);function St(t){var e;return dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(pt.a)(ft);case 3:return e=t.sent,console.log("[post]",e),t.next=7,Object(pt.b)(A.getPostsSuccess(e.data));case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0),t.next=14,Object(pt.b)(A.getPostsFailure(t.t0));case 14:case"end":return t.stop()}}),vt,null,[[0,9]])}function yt(t){var e;return dt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(pt.a)(gt,t.payload);case 3:return e=a.sent,console.log("[createPostSaga-post]",e),a.next=7,Object(pt.b)(B.createPostSuccess(e.data));case 7:a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(0),console.log(a.t0),a.next=14,Object(pt.b)(B.createPostFailure(a.t0));case 14:case"end":return a.stop()}}),Pt,null,[[0,9]])}function Ct(t){var e;return dt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(pt.a)(mt,t.payload);case 3:return e=a.sent,console.log("[updatePostSaga-post]",e),a.next=7,Object(pt.b)(L.updatePostSuccess(e.data));case 7:a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(0),console.log(a.t0),a.next=14,Object(pt.b)(L.updatePostFailure(a.t0));case 14:case"end":return a.stop()}}),wt,null,[[0,9]])}function Rt(){return dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(pt.c)(A.getPostsRequest,St);case 2:return t.next=4,Object(pt.c)(B.createPostRequest,yt);case 4:return t.next=6,Object(pt.c)(L.updatePostRequest,Ct);case 6:case"end":return t.stop()}}),kt)}var qt=Rt,Mt=Object(ut.a)(),Nt=Object(lt.d)(jt,Object(lt.a)(Mt));Mt.run(qt),o.a.render(Object(d.jsx)(s.a,{store:Nt,children:Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(it,{})})}),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.14a8ab89.chunk.js.map